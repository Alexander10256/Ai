# AI Trend Monitor

Скрипт предназначен для круглосуточного (24/7) мониторинга новостных источников и RSS-лент с целью нахождения потенциальных трендов и фильтрации шума.

## Возможности

- Поддержка нескольких источников (по умолчанию Google Trends, Hacker News и Lenta.ru).
- Обновление по расписанию с заданным интервалом.
- Экспоненциальное затухание значимости старых новостей, чтобы выделять свежие тренды.
- Фильтрация ключевых слов и шумовых терминов.
- Сохранение итоговых трендов в JSON (последний снимок и история).

## Установка и запуск

```bash
python -m trend_monitor.monitor --storage data --interval 1800
```

Параметры:

- `--interval` — интервал между обновлениями в секундах (по умолчанию 900).
- `--retention` — горизонт анализа в часах (по умолчанию 12).
- `--decay` — параметр экспоненциального затухания (чем меньше, тем быстрее устаревают новости).
- `--min-score` — порог попадания ключевого слова в список трендов.
- `--top` — количество отображаемых трендов.
- `--once` — выполнить один проход и завершить работу (удобно для теста).
- `--sources` — путь к JSON файлу с дополнительными источниками вида:

```json
[
  {"name": "TechCrunch", "url": "https://techcrunch.com/feed/"},
  {"name": "Meduza", "url": "https://meduza.io/rss/all"}
]
```

По умолчанию результаты сохраняются в каталоге `data`:

- `latest.json` — последняя оценка трендов.
- `history/` — архив всех срезов.

## Как работает фильтрация

1. Каждая новость разбивается на ключевые слова, удаляются часто встречающиеся стоп-слова.
2. Вес новости уменьшается экспоненциально со временем, что позволяет сфокусироваться на свежих событиях.
3. Ключевые слова агрегируются по всем источникам, сортируются по суммарному весу и ограничиваются заданным порогом.

## Расширение

- Добавляйте собственные RSS-источники через JSON-конфигурацию.
- Настройте cron/systemd для непрерывного запуска на сервере.
- При необходимости адаптируйте список стоп-слов в `trend_monitor/analysis.py`.
